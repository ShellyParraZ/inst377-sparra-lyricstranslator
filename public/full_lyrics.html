<html>
  <head>
    <title>INST 377 Final Project</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body style="background-color: rgb(157, 188, 226)">
    <header>
      <h1>Lyrics Translator</h1>
      <!--Navigation Section-->
      <nav id="nav_bar">
        <ul>
          <li><a href="home_page.html">Home</a></li>
          <li><a href="full_lyrics.html">Full Lyrics</a></li>
          <li><a href="about_page.html">About</a></li>
        </ul>
      </nav>
    </header>
    <!--Line Separator-->
    <hr />
    <br />
    <!--Full Lyrics Display-->
    <h2 id="h2_FL">Full Lyrics Display</h2>
    <h3 id="o_langTitle"></h3>
    <div class="fullOriginalLyricsBox">
      <pre id="fullOriginalLyricsText" class="fullLyricsText"></pre>
    </div>
    <h3 id="t_langTitle"></h3>
    <div class="fullTargetLyricsBox">
      <pre id="fullTargetLyricsText" class="fullTargetLyricsText"></pre>
    </div>
  </body>
  <script>
    window.onload = () => {
      // getting the original and target language from Home Page
      const original_langDropdown = localStorage.getItem("originalLangName");
      const target_langDropdown = localStorage.getItem("targetLangName");

      // getting the original and target language empty HEADER from full_lyrics
      const originalHeader = document.getElementById("o_langTitle");
      const targetHeader = document.getElementById("t_langTitle");

      const lyrics = localStorage.getItem("fullLyrics"); // getting full lyrics from Home Page (if it exists)
      const lyricsBox = document.getElementById("fullOriginalLyricsText"); // getting empty fullLyricsText

      // setting the languages in the headers/titles
      if (original_langDropdown) {
        originalHeader.textContent = `Original Lyrics (${original_langDropdown})`;
      } else {
        originalHeader.textContent = "Original Lyrics";
      }
      if (target_langDropdown) {
        targetHeader.textContent = `Translated Lyrics (${target_langDropdown})`;
      } else {
        targetHeader.textContent = "Original Lyrics";
      }

      if (!lyrics) {
        // if lyrics exist (not empty), then make fullLyricsText contain the lyrics
        lyricsBox.textContent = "No lyrics available.";
        return;
      }

      lyricsBox.textContent = lyrics;
    };
  </script>
</html>
